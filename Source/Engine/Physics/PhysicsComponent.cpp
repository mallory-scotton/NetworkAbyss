///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include <Engine/Physics/PhysicsComponent.hpp>

///////////////////////////////////////////////////////////////////////////////
// Namespace tkd
///////////////////////////////////////////////////////////////////////////////
namespace tkd
{

///////////////////////////////////////////////////////////////////////////////
PhysicsComponent::PhysicsComponent(float mass, bool hasGravity, float friction)
    : velocity(0.f)
    , acceleration(0.f)
    , mass(mass)
    , hasGravity(hasGravity)
    , friction(friction)
    , isStatic(false)
{}

///////////////////////////////////////////////////////////////////////////////
void PhysicsComponent::update(float deltaT)
{
    if (isStatic)
        return;
    velocity -= velocity * friction;
    velocity += acceleration * deltaT;
    acceleration = Vec2f(0.f);
}

///////////////////////////////////////////////////////////////////////////////
void PhysicsComponent::applyForce(const Vec2f& force)
{
    if (isStatic)
        return;
    acceleration += force * (1.f / mass);
}

} // namespace tkd
