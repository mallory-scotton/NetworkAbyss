///////////////////////////////////////////////////////////////////////////////
// Header guard
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include <Engine/Utils/Types.hpp>
#include <zlib.h>

///////////////////////////////////////////////////////////////////////////////
// Namespace tkd
///////////////////////////////////////////////////////////////////////////////
namespace tkd
{

///////////////////////////////////////////////////////////////////////////////
/// \brief Utility compression class
///
///////////////////////////////////////////////////////////////////////////////
class Compressor
{
public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Compress data using ZLIB
    ///
    /// \param data The data to compress
    /// \param level The compression level
    ///
    /// \return The compressed data
    ///
    ///////////////////////////////////////////////////////////////////////////
    static Data compress(
        const Data& data,
        int level = Z_DEFAULT_COMPRESSION
    );

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Decompress data compressed with ZLIB
    ///
    /// \param data The compressed data
    /// \param size The original data size
    ///
    /// \return The decompressed data
    ///
    ///////////////////////////////////////////////////////////////////////////
    static Data decompress(const Data& cdata, Uint64 size);
};

} // namespace tkd
